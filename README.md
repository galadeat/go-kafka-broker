# Minimal Kafka Broker in Go

–£—á–µ–±–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ Kafka‚Äë–±—Ä–æ–∫–µ—Ä–∞ –Ω–∞ —è–∑—ã–∫–µ Go.  
–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø–æ —Å–µ—Ç–µ–≤–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –±–∏–Ω–∞—Ä–Ω—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º.

## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å Kafka Wire Protocol –Ω–∞ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ.
- –ù–∞—É—á–∏—Ç—å—Å—è —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –±–∞–∑–æ–≤—ã—Ö API Kafka.
- –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö API.

## ‚öôÔ∏è –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- TCP‚Äë—Å–µ—Ä–≤–µ—Ä –Ω–∞ `0.0.0.0:9092`.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ `ApiVersions` (v4).
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ –ø–∞–∫–µ—Ç—ã:
  - `protocol` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã.
  - `handlers` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ API.
  - `server` ‚Äî —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è.


## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Go** ‚Äî —è–∑—ã–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
- **TCP Networking** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º–∏ —Å–æ–∫–µ—Ç–∞–º–∏, —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
-  **Kafka Wire Protocol** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ API.

## üöÄ –ó–∞–ø—É—Å–∫
```bash
go run ./cmd/main.go

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±—Ä–æ–∫–µ—Ä–∞ –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–º—É —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å `ApiVersions` —á–µ—Ä–µ–∑ `netcat`:
echo -n "00000023001200040183eb7d00096b61666b612d636c69000a6b61666b612d636c6904302e3100" | xxd -r -p | nc localhost 9092 | hexdump -C

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–∞–∫–µ—Ç ApiVersions —Å —Ç–µ–º –∂–µ Correlation ID.